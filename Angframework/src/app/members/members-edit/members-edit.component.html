<div class="container mt-4">
	<div class="row">
		<div class="col-sm-4">
			<h1>{{user.knownAs}}'s Profile</h1>
		</div>
		<div class="col-sm-8">
			<div *ngIf="editForm.dirty" class="alert alert-info">
				<Strong>Information:</Strong>You have made changes, any unsaved changes will be lost!
			</div>
		</div>
	</div>
	<div class="row">
		<div class="profile col-4">
			<div class="profile-top">
				<div class="banner-profile mb-3">
					<div class="profile-rounded">
						<img class="card-img-top img-thumbnail"
						     src="{{ photoUrl || '../../../assets/user.png' }}"
						     alt="{{user.knownAs}}">
					</div>
				</div>
			</div>
			<div class="card-body">
				<div>
					<h2>Location:</h2>
					<strong>{{user.city}}, {{user?.country}}</strong>
				</div>
				<div>
					<h2>Age:</h2>
					<strong>{{user.age}}</strong>
				</div>
				<div>
					<h2>Last Active:</h2>
					<strong>{{user.lastActive | timeAgo }}</strong>
				</div>
				<div>
					<h2>Member since:</h2>
					<strong>{{ user.created | date }}</strong>
				</div>
			</div>
			<div class="card-footer">
				<button [disabled]="!editForm.dirty" form="editForm" class="btn btn-success btn-block">Save Changes
				</button>
			</div>
		</div>
		<div class="col-sm-8">
			<div class="tab-panel">
				<tabset>
					<tab heading="Edit Profile {{user.knownAs}}">
						<form #editForm="ngForm" id="editForm" (ngSubmit)="updateUser()">
							<h4>Description</h4>
							<textarea name="introduction" rows="6" class="form-control"
							          [(ngModel)]="user.introduction"></textarea>
							<h4>Looking For</h4>
							<textarea name="lookingFor" rows="6" class="form-control"
							          [(ngModel)]="user.lookingFor"></textarea>
							<h4>Interests</h4>
							<textarea name="interests" rows="6" class="form-control"
							          [(ngModel)]="user.interests"></textarea>
							<h4>Location Details:</h4>
							<div class="form-inline">
								<label for="city">City</label>
								<input name="city" [(ngModel)]="user.city" type="text" class="form-control">
								<label for="country">Country</label>
								<input name="country" [(ngModel)]="user.country" type="text" class="form-control">
							</div>
						</form>
					</tab>
					<tab heading="Edit Photos">
						<app-photo-editor [photos]="user.photos"
						                  (getMemberPhotoChange)="updateMainPhoto($event)"></app-photo-editor>
					</tab>
				</tabset>
			</div>
		</div>
	</div>
</div>
